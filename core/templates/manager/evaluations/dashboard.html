{% extends "admin/base_site.html" %}
{% load static i18n %}
{% block extrastyle %}
{{ block.super }}
<script src="{% static 'core/evaluations_ajax.js' %}"></script>
<link rel="stylesheet" href="{% static 'css/fonts.css' %}">
<link rel="stylesheet" href="{% static 'css/rtl.css' %}">
<link rel="stylesheet" href="{% static 'css/styles.css' %}">
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
<link rel="stylesheet" href="{% static 'css/dashboard_lists.css' %}">

{% endblock %}
{% block usertools %}
{% if request.user.is_authenticated %}
<div id="user-tools">
    <span>{% trans "User:" %} {{ request.user.get_username }}</span>
    | <a href="{% url 'eval_dashboard' %}">{% trans "Dashboard" %}</a>
    |
    <form method="post" action="{% url 'logout' %}" class="logout-form">
        {% csrf_token %}
        <button type="submit" class="logout-linklike">Ø®Ø±ÙˆØ¬</button>
    </form>
    | <a href="{% url 'password_change' %}">ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</a>
</div>
{% endif %}
{% endblock %}

{% block breadcrumbs %}{% endblock %}

{% block content %}
<div id="content-main" class="container-admin">
    <div class="page-grid">

        <!-- Ø³ØªÙˆÙ† Ø§ØµÙ„ÛŒ -->
        <div>

            <!-- Ø§Ù†ØªØ®Ø§Ø¨ ÙØ±Ù… Ùˆ Ø¨Ø§Ø²Ù‡ -->
            <form method="get" action="{% url 'eval_dashboard' %}" class="module aligned" style="margin-bottom:12px;">
                <h2>Ø§Ù†ØªØ®Ø§Ø¨ ÙØ±Ù… Ùˆ Ø¨Ø§Ø²Ù‡</h2>

                <div class="form-row">
                    <label><strong>ÙØ±Ù…:</strong></label>
                    <ul class="radiolist">
                        {% for f in forms %}
                        <li>
                            <label>
                                <input type="radio" name="form_code" value="{{ f.code }}" {% if selected_code == f.code%}checked{% endif %}>
                                <strong>{{ f.code }}</strong> â€” {{ f.name }} ({{ f.criteria.count }} Ù…Ø¹ÛŒØ§Ø±)
                            </label>
                        </li>
                        {% empty %}
                        <li><em>ÙØ±Ù…ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù‚Ø´ Ø´Ù…Ø§ Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ù†ÛŒØ³Øª.</em></li>
                        {% endfor %}
                    </ul>
                </div>

                <div class="form-row">
                    <label><strong>Ø¨Ø§Ø²Ù‡:</strong></label>
                    <ul class="radiolist inline">
                        {% for m in month_choices %}
                        <li><label><input type="radio" name="months" value="{{ m }}" {% if months == m %}checked{%endif%}> {{ m }} Ù…Ø§Ù‡Ù‡</label></li>
                        {% endfor %}
                    </ul>
                    <p class="help">Ø§Ø² {{ period_start }} ØªØ§ {{ period_end }}</p>
                </div>

                <div class="submit-row">
                    <input type="submit" class="default" value="Ø§Ø¹Ù…Ø§Ù„ ÙÛŒÙ„ØªØ±">
                </div>
            </form>

            <!-- Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ (Ø¢Ú©Ø§Ø±Ø¯Ø¦ÙˆÙ†) -->

            <details class="card" {% if todo %}open{% endif %}>
                <!-- To-Do -->
                <summary>
                    <span>
                        <a class="hdr-link"
                           href="{% url 'eval_list' 'todo' %}?form_code={{ selected_code }}&months={{ months }}">
                            To-Do
                        </a>
                    </span>
                    <span class="badge">{{ todo|length }}</span>
                </summary>
                <div class="card-body">
                    {% if todo %}
                    <table class="listing">
                        <thead>
                        <tr>
                            <th>Ú©Ø¯ Ù¾Ø±Ø³Ù†Ù„ÛŒ</th>
                            <th>Ù†Ø§Ù…</th>
                            <th>ÙˆØ§Ø­Ø¯</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for p in todo %}
                        <tr>
                            <td>{{ p.personnel_code }}</td>
                            <td>{{ p.user.get_full_name|default:p.title|default:p.personnel_code }}</td>
                            <td>{{ p.unit.unit_code }}</td>
                            <td>
                                <form method="post" action="{% url 'eval_create' %}">
                                    {% csrf_token %}
                                    <input type="hidden" name="form_code" value="{{ selected_code }}">
                                    <input type="hidden" name="months" value="{{ months }}">
                                    <button name="employee_id" value="{{ p.personnel_code }}" class="button">Ø´Ø±ÙˆØ¹
                                    </button>
                                </form>
                            </td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                    {% else %}
                    <p class="help">Ù…ÙˆØ±Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ù†Ø¬Ø§Ù… Ù†ÛŒØ³Øª.</p>
                    {% endif %}
                </div>
            </details>

            <details class="card">
                <!-- Draft -->
                <summary>
                    <span>
                        <a class="hdr-link"
                           href="{% url 'eval_list' 'draft' %}?form_code={{ selected_code }}&months={{ months }}">
                            In-Progress (Draft)
                        </a>
                    </span>
                    <span class="badge">{{ drafts|length }}</span>
                </summary>

                <div class="card-body">
                    {% if drafts %}
                    <ul>
                        {% for e in drafts %}
                        <li>
                            <a href="{% url 'eval_edit' e.id %}">{{ e.employee_name }}</a>
                            â€” {{ e.template.code }} ({{ e.period_start }} ØªØ§ {{ e.period_end }})
                            <span class="badge bg-secondary">{{ e.months_label }} Ù…Ø§Ù‡Ù‡</span>
                        </li>
                        {% endfor %}
                    </ul>
                    {% else %}
                    <p class="help">Ù‡ÛŒÚ† Draft ÙØ¹Ø§Ù„ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯.</p>
                    {% endif %}
                </div>
            </details>

            <details class="card">
                <!-- Submitted -->
                <summary>
                    <span>
                        <a class="hdr-link"
                           href="{% url 'eval_list' 'submitted' %}?form_code={{ selected_code }}&months={{ months }}">
                            Submitted
                        </a>
                    </span>
                    <span class="badge">{{ submitted|length }}</span>
                </summary>
                <div class="card-body">
                    {% if submitted %}
                    <ul>
                        {% for e in submitted %}
                        <li>
                            <a href="{% url 'eval_edit' e.id %}">{{ e.employee_name }}</a>
                            â€” Ø§Ù…ØªÛŒØ§Ø²: {{ e.final_score }} / {{ e.max_score }}
                            {% if e.final_percent %} ({{ e.final_percent|floatformat:0 }}Ùª){% endif %}
                            {% if e.updated_at %} â€” Ø§Ø±Ø³Ø§Ù„: {{ e.updated_at|date:"Y-m-d H:i" }}{% endif %}
                            <span class="badge bg-secondary">{{ e.months_label }} Ù…Ø§Ù‡Ù‡</span>
                        </li>
                        {% endfor %}
                    </ul>
                    {% else %}
                    <p class="help">Ù…ÙˆØ±Ø¯ÛŒ Ø¯Ø± ÙˆØ¶Ø¹ÛŒØª Submitted Ù†ÛŒØ³Øª.</p>
                    {% endif %}
                </div>
            </details>

            {% if manager %}
<details class="card" open>
    <summary>
        <span>Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù‚Ø¯Ø§Ù… Ù…Ù† (ØªØ£ÛŒÛŒØ¯)</span>
        <span class="badge">{{ manager|length }}</span>
    </summary>

    <div class="card-body">
        <ul>
            {% for row in manager %}
            <li style="display:flex;align-items:center;gap:12px;">
                <a href="{% url 'eval_edit' row.ev.id %}">
                    {{ row.ev.employee_name }}
                </a>

                <span class="badge bg-secondary">
                    {{ row.current_step }}
                </span>

                {% if row.can_approve %}
                <form method="post"
                      action="{% url 'eval_approve' row.ev.id %}"
                      style="margin-right:auto;">
                    {% csrf_token %}
                    <button class="button button-success">
                        ØªØ£ÛŒÛŒØ¯
                    </button>
                </form>
                {% endif %}
            </li>
            {% endfor %}
        </ul>
    </div>
</details>
{% endif %}



            <details class="card">
                <!-- Approved -->
                <summary>
                    <span>
                        <a class="hdr-link"
                           href="{% url 'eval_list' 'approved' %}?form_code={{ selected_code }}&months={{ months }}">
                            Approved
                        </a>
                    </span>
                    <span class="badge">{{ approved|length }}</span>
                </summary>

                <div class="card-body">
                    {% if approved %}
                    <ul>
                        {% for e in approved %}
                        <li>
                            {{ e.period_label }} â€”
                            {% if e.employee_name %}{{ e.employee_name }}{% else %}Ú©Ø§Ø±Ø¨Ø± Ù†Ø§Ù…Ø´Ø®Øµ{% endif %}
                            â€” Ø§Ù…ØªÛŒØ§Ø²: {{ e.final_score|default:"0" }} / {{ e.max_score|default:"0" }}
                            <span class="badge bg-secondary">{{ e.months_label }} Ù…Ø§Ù‡Ù‡</span>
                            {% if e.id %}
                            <a href="{% url 'eval_print_evaluation' e.id %}" target="_blank" class="button" style="margin-right: 6px; font-size: 11px; padding: 2px 6px; background: #7c3aed; color: #fff; border-radius: 4px;">
                                ğŸ–¨ Ú†Ø§Ù¾
                            </a>
                            {% endif %}
                        </li>
                        {% endfor %}
                    </ul>

                    {% else %}
                    <p class="help">Ù‡Ù†ÙˆØ² Ø§Ø±Ø²ÛŒØ§Ø¨ÛŒ ØªØ§ÛŒÛŒØ¯Ø´Ø¯Ù‡ Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø§Ø²Ù‡ Ù†Ø¯Ø§Ø±ÛŒØ¯.</p>
                    {% endif %}
                </div>


            </details>
            <fieldset>
                <details class="card">
                    <summary>
                        <span>DraftÙ‡Ø§ÛŒ Ù…Ø§Ù†Ø¯Ù‡/Ù…Ù†Ù‚Ø¶ÛŒ</span>
                        <span class="badge">{{ stale_drafts|length }}</span>
                    </summary>
                    <div class="card-body">
                        {% if stale_drafts %}
                        <form id="bulk-archive-form" method="post" action="{% url 'eval_bulk_archive' %}">
                            {% csrf_token %}
                            <table class="listing">
                                <thead>
                                <tr>
                                    <th>
                                        <input type="checkbox" id="masterChk">
                                    </th>
                                    <th>Ù†Ø§Ù…</th>
                                    <th>ÙØ±Ù…</th>
                                    <th>Ø¨Ø§Ø²Ù‡</th>
                                    <th>ÙˆØ¶Ø¹ÛŒØª</th>
                                    <th>Ø¹Ù„Øª</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for e in stale_drafts %}
                                <tr>
                                    <td>
                                        <input type="checkbox" class="stale-chk" name="ids" value="{{ e.id }}" {% if e.status != 'expired' or e.is_archived %}disabled
                                               title="ÙÙ‚Ø· ÙØ±Ù…â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ù‚Ø¶ÛŒ Ù‚Ø§Ø¨Ù„ Ø§Ù†ØªØ®Ø§Ø¨ Ù‡Ø³ØªÙ†Ø¯" {% endif %}>
                                    </td>
                                    <td><a href="{% url 'eval_edit' e.id %}">{{ e.employee_name }}</a></td>
                                    <td>{{ e.template.code }}</td>
                                    <td style="font-size:12px;">{{ e.period_start }} ØªØ§ {{ e.period_end }}</td>
                                    <!-- <td>{{ e.status }}</td>-->
                                    <td><span class="badge bg-secondary" style="font-size:xx-small;">{{ e.months_label }} Ù…Ø§Ù‡Ù‡</span>
                                    </td>
                                    <td style="font-size:10px;">
                                        {% if e.visible_until and e.visible_until < now %}Ù…Ù†Ù‚Ø¶ÛŒ{% endif %}
                                        {% if e.missing_count %}{% if e.visible_until and e.visible_until < now %}ØŒ {% endif %}Ù†Ø§ØªÙ…Ø§Ù… ({{ e.missing_count }}){% endif %}
                                    </td>
                                    <td>
                                        <a class="button" href="{% url 'eval_edit' e.id %}"><span style="font-size:10px;">Ø¨Ø§Ø²Ú©Ø±Ø¯Ù†</span></a>
                                    </td>
                                </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                            <div class="submit-row">
                                <button id="bulk-archive-btn" type="submit" class="button" disabled>Ø¢Ø±Ø´ÛŒÙˆ
                                    Ø§Ù†ØªØ®Ø§Ø¨â€ŒØ´Ø¯Ù‡â€ŒÙ‡Ø§
                                </button>
                            </div>
                        </form>
                        {% if request.user.is_superuser %}
                        <form method="post" action="{% url 'eval_bulk_delete' %}"
                              onsubmit="return confirm('Ø­Ø°Ù Ø¯Ø§Ø¦Ù…ØŸ')">
                            {% csrf_token %}
                            {% for e in stale_drafts %}
                            <input type="hidden" name="ids" value="{{ e.id }}">
                            {% endfor %}
                            <div class="submit-row">
                                <button type="submit" class="deletelink">Ø­Ø°Ù Ø¯Ø§Ø¦Ù… Ù‡Ù…Ù‡ Ø§ÛŒÙ†â€ŒÙ‡Ø§ (ÙÙ‚Ø· Ø³ÙˆÙ¾Ø±ÛŒÙˆØ²Ø±)</button>
                            </div>
                        </form>
                        {% endif %}
                        {% else %}
                        <p class="help">Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³ Ù…Ù†Ù‚Ø¶ÛŒ/Ù†Ø§ØªÙ…Ø§Ù…ÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯.</p>
                        {% endif %}
                    </div>
                </details>
            </fieldset>
        </div>

        <!-- Ø³Ø§ÛŒØ¯Ø¨Ø§Ø± (ÙˆÛŒØ¬Øªâ€ŒÙ‡Ø§) -->
        <aside>
            <fieldset class="module">
                <h2>Ø®Ù„Ø§ØµÙ‡</h2>
                <ul>
                    <li>Ú©Ù„ Ø§ÙØ±Ø§Ø¯ Ù‡Ø¯Ù: {{todo|length}}</li>
                    <li>Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…: {{drafts|length}}</li>
                    <li>Ø§Ø±Ø³Ø§Ù„â€ŒØ´Ø¯Ù‡: {{submitted|length}}</li>
                    <li>ØªØ£ÛŒÛŒØ¯Ø´Ø¯Ù‡: {{approved|length}}</li>
                </ul>
            </fieldset>
             <fieldset class="module">
                <h2> Ù…Ø¯ÛŒØ±ÛŒØª Ù„ÛŒØ³Øªâ€ŒÙ‡Ø§</h2>
              <ul class="menu-list">
    <li>
        <a href="{% url 'manager_evaluations_drafts' %}">
            <span class="list-badge badge-draft">{{ count_draft }}</span>
            Ù„ÛŒØ³Øª Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³â€ŒÙ‡Ø§ (Draft)
        </a>
    </li>

    <li>
        <a href="{% url 'manager_evaluations_submitted' %}">
            <span class="list-badge badge-submitted">{{ count_submitted }}</span>
            Ù„ÛŒØ³Øª Ø§Ø±Ø³Ø§Ù„â€ŒØ´Ø¯Ù‡â€ŒÙ‡Ø§ (Submitted)
        </a>
    </li>

    <li>
        <a href="{% url 'manager_evaluations_approved' %}">
            <span class="list-badge badge-approved">{{ count_final }}</span>
            Ù„ÛŒØ³Øª ØªØ§ÛŒÛŒØ¯â€ŒØ´Ø¯Ù‡â€ŒÙ‡Ø§ (Approved)
        </a>
    </li>

    <li>
        <a href="{% url 'manager_evaluations_archived' %}">
            <span class="list-badge badge-archived">{{ count_archived }}</span>
            Ù„ÛŒØ³Øª Ø¢Ø±Ø´ÛŒÙˆØ´Ø¯Ù‡â€ŒÙ‡Ø§ (Archived)
        </a>
    </li>
</ul>

            </fieldset>



<fieldset class="module">
    <h2>Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ Ùˆ Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§</h2>

    <div class="card dashboard-card">
        <a href="{% url 'eval_reports' %}">
            ğŸ“Š Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú¯Ø²Ø§Ø±Ø´ Ø¹Ù…Ù„Ú©Ø±Ø¯
        </a>
        <br>

        <a href="{% url 'manager:manager_summary_report' %}">
            ğŸ“Š Ú¯Ø²Ø§Ø±Ø´ ØªØ¬Ù…ÛŒØ¹ÛŒ Ù…Ø¯ÛŒØ±Ø§Ù†
        </a>
        <br>

        <a href="{% url 'manager:workflow' %}">
            ğŸ”„ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú¯Ø±Ø¯Ø´ Ú©Ø§Ø± Ø§Ø±Ø²ÛŒØ§Ø¨ÛŒ

            {% if hr_pending_count %}
                <span class="badge">{{ hr_pending_count }}</span>
            {% endif %}

            {% if factory_pending_count %}
                <span class="badge">{{ factory_pending_count }}</span>
            {% endif %}
        </a>
    </div>
</fieldset>



            <fieldset class="module">
                <h2>Ø¢Ø®Ø±ÛŒÙ† Ø§Ø±Ø³Ø§Ù„â€ŒÙ‡Ø§</h2>
                {% if recent_submitted %}
                <ul>
                    {% for e in recent_submitted %}
                    <li>
                        <a href="{% url 'eval_edit' e.id %}" style="text-decoration:underline;">{{ e.employee_name }}</a>
                        â€” Ø§Ù…ØªÛŒØ§Ø²: {{ e.final_score }} / {{ e.max_score }}
                        {% if e.final_percent %} ({{ e.final_percent|floatformat:0 }}Ùª){% endif %}
                        <span class="badge bg-secondary" style="font-size:xx-small;">{{ e.months_label }} Ù…Ø§Ù‡Ù‡</span>
                    </li>
                    {% endfor %}
                </ul>
                {% else %}
                <p class="help">Ø§Ø±Ø³Ø§Ù„ Ø§Ø®ÛŒØ± Ù†Ø¯Ø§Ø±ÛŒØ¯.</p>
                {% endif %}
            </fieldset>

            <fieldset class="module">
                <h2>Ø¢Ø±Ø´ÛŒÙˆØ´Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø®ÛŒØ±</h2>
                {% if archived_recent %}
                <ul class="last-list">
                    {% for e in archived_recent %}
                    <li>
                        <span class="dot dot-archived" aria-hidden="true"></span>
                        {{ e.employee_name }} â€” {{ e.template.code }}
                        <span class="muted">({{ e.period_start }} ØªØ§ {{ e.period_end }})</span>
                        </br>
                        <span class="badge bg-secondary" style="font-size:xx-small;">{{ e.months_label }} Ù…Ø§Ù‡Ù‡</span>
                        <a href="{% url 'eval_edit' e.id %}" class="link">Ø¨Ø§Ø²Ú©Ø±Ø¯Ù†</a>
                    </li>
                    {% endfor %}
                </ul>
                {% else %}
                <p class="help">Ù…ÙˆØ±Ø¯ Ø¢Ø±Ø´ÛŒÙˆØ´Ø¯Ù‡Ù” Ø§Ø®ÛŒØ± Ù†Ø¯Ø§Ø±ÛŒØ¯.</p>
                {% endif %}
            </fieldset>
        </aside>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.getElementById('bulk-archive-form');
      const btn = document.getElementById('bulk-archive-btn');
      const master = document.getElementById('masterChk');

      // Ø§Ú¯Ù‡ ÙØ±Ù… ÛŒØ§ Ø¯Ú©Ù…Ù‡ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ù‡ØŒ Ù‡ÛŒÚ†ÛŒ Ø§Ù†Ø¬Ø§Ù… Ù†Ø¯Ù‡
      if (!form || !btn) return;

      // ğŸ¯ ØªØ§Ø¨Ø¹ Ø¨Ø±Ø±Ø³ÛŒ ÙØ¹Ø§Ù„ Ø¨ÙˆØ¯Ù† Ø¯Ú©Ù…Ù‡
      const refreshBtn = () => {
        const anyChecked = form.querySelector('input.stale-chk:not([disabled]):checked');
        const hasChecked = Boolean(anyChecked);

        btn.disabled = !hasChecked;
        btn.classList.toggle('disabled', !hasChecked);

        // Ø§Ú¯Ù‡ Ø¯Ú©Ù…Ù‡ ØºÛŒØ±ÙØ¹Ø§Ù„Ù‡ØŒ Ø´ÙØ§Ùâ€ŒØªØ±Ø´ Ú©Ù†ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø²ÛŒØ¨Ø§ÛŒÛŒ
        btn.style.opacity = hasChecked ? "1" : "0.6";
        btn.style.cursor = hasChecked ? "pointer" : "not-allowed";
      };

      // ğŸ§© ØªØ§Ø¨Ø¹ ØªÛŒÚ© Ø²Ø¯Ù† Ù‡Ù…Ù‡ (ÙÙ‚Ø· Ù…ÙˆØ§Ø±Ø¯ ÙØ¹Ø§Ù„)
      if (master) {
        master.addEventListener('change', () => {
          const enabledChecks = form.querySelectorAll('input.stale-chk:not([disabled])');
          enabledChecks.forEach(ch => ch.checked = master.checked);
          refreshBtn();
        });
      }

      // ğŸ¯ ÙˆÙ‚ØªÛŒ ÛŒÚ©ÛŒ Ø§Ø² Ú†Ú©â€ŒØ¨Ø§Ú©Ø³â€ŒÙ‡Ø§ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ â†’ Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ø±Ø³ÛŒ Ø¨Ø´Ù‡
      form.addEventListener('change', e => {
        if (e.target && e.target.matches('input.stale-chk')) {
          refreshBtn();

          // Ø§Ú¯Ø± Ù‡Ù…Ù‡â€ŒÛŒ Ú†Ú©â€ŒØ¨Ø§Ú©Ø³â€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„ ØªÛŒÚ© Ø®ÙˆØ±Ø¯Ù†ØŒ Ù…Ø³ØªØ± Ø±Ùˆ Ù‡Ù… ØªÛŒÚ© Ø¨Ø²Ù†
          const enabled = form.querySelectorAll('input.stale-chk:not([disabled])');
          const checked = form.querySelectorAll('input.stale-chk:not([disabled]):checked');
          if (master) master.checked = enabled.length === checked.length && enabled.length > 0;
        }
      });

      // ğŸŸ¢ Ø¨Ø§Ø± Ø§ÙˆÙ„ Ú©Ù‡ ØµÙØ­Ù‡ Ù„ÙˆØ¯ Ù…ÛŒØ´Ù‡
      refreshBtn();
    });
</script>

{% endblock %}




